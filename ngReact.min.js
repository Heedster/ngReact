!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("react"),require("react-dom"),require("angular")):"function"==typeof define&&define.amd?define(["react","react-dom","angular"],function(c,d,angular){return a.ngReact=b(c,d,angular)}):a.ngReact=b(a.React,a.ReactDOM,a.angular)}(this,function(React,a,angular){"use strict";function b(a,b){if(angular.isFunction(a))return a;if(!a)throw new Error("ReactComponent name attribute must be specified");var c;try{c=b.get(a)}catch(d){}if(!c)try{c=a.split(".").reduce(function(a,b){return a[b]},window)}catch(d){}if(!c)throw Error("Cannot find react component "+a);return c}function c(a,b){if(a.wrappedInApply)return a;var c=function(){var c=arguments,d=b.$root.$$phase;return"$apply"===d||"$digest"===d?a.apply(null,c):b.$apply(function(){return a.apply(null,c)})};return c.wrappedInApply=!0,c}function d(a,b){return Object.keys(a||{}).reduce(function(d,e){var f=a[e];return d[e]=angular.isFunction(f)?c(f,b):f,d},{})}function e(a,b,c,d){"collection"===a&&angular.isFunction(b.$watchCollection)?c.forEach(function(a){b.$watchCollection(a,d)}):"reference"===a?angular.isFunction(b.$watchGroup)?b.$watchGroup(c,d):c.forEach(function(a){b.$watch(a,d)}):c.forEach(function(a){b.$watch(a,d,!0)})}function f(b,c,d,e){d.$evalAsync(function(){a.render(React.createElement(b,c),e[0])})}function g(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}var h=function(c){return{restrict:"E",replace:!0,link:function(h,i,j){var k=b(j.name,c),l=0|j.debounceInterval,m=function(){var a=h.$eval(j.props),b=d(a,h);f(k,b,h,i)};l>0&&(m=g(m,l)),j.props?e(j.watchDepth,h,[j.props],m):m(),h.$on("$destroy",function(){j.onScopeDestroy?h.$eval(j.onScopeDestroy,{unmountComponent:a.unmountComponentAtNode.bind(this,i[0])}):a.unmountComponentAtNode(i[0])})}}},i=function(c){return function(h,i,j,k){var l={restrict:"E",replace:!0,link:function(j,l,m){var n=b(h,c);i=i||Object.keys(n.propTypes||{});var o=i.map(function(a){return m[a]}),p=0|m.debounceInterval,q=function(){var a={};i.forEach(function(b){a[b]=j.$eval(m[b])}),a=d(a,j),a=angular.extend({},a,k),f(n,a,j,l)};p>0&&(q=g(q,p)),e(m.watchDepth,j,o,q),q(),j.$on("$destroy",function(){m.onScopeDestroy?j.$eval(m.onScopeDestroy,{unmountComponent:a.unmountComponentAtNode.bind(this,l[0])}):a.unmountComponentAtNode(l[0])})}};return angular.extend(l,j)}};return angular.module("react",[]).directive("reactComponent",["$injector",h]).factory("reactDirective",["$injector",i])});